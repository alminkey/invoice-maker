import { useStore } from '@/store/useStore';
import { Language } from '@/lib/models';

export const uiStrings: Record<Language, Record<string, string>> = {
  bs: {
    home_title: 'Invoice maker',
    home_sub: 'Pregled posljednjih faktura i brzi start.',
    nav_home: 'Početna', nav_invoices: 'Fakture', nav_clients: 'Klijenti', nav_stats: 'Statistika', nav_settings: 'Postavke',
    new_invoice: 'Nova faktura',
    create_pdf: 'Kreiraj novu fakturu i generiši PDF.',
    clients_title: 'Klijenti', add_client: 'Dodaj klijenta', save: 'Spremi', cancel: 'Otkaži', edit: 'Uredi', delete: 'Obriši',
    invoices_title: 'Fakture', open: 'Otvori',
    stats_title: 'Statistika',
    settings_title: 'Postavke',
    recent_invoices: 'Posljednje fakture', none_yet: 'Još nema podataka.',
    total: 'Ukupno', date_issue: 'Datum izdavanja', date_due: 'Rok plaćanja',
    language: 'Jezik', currency: 'Valuta', default_language: 'Podrazumijevani jezik',
    numbering: 'Numeracija faktura', prefix: 'Prefiks', next_no: 'Sljedeći broj', format: 'Format',
    upload_logo: 'Učitaj logo',
    mark_paid: 'Označi kao plaćeno', mark_unpaid: 'Označi kao neplaćeno',
    filter_client: 'Klijent', filter_status: 'Status', status_all: 'Svi', status_paid: 'Plaćeno', status_unpaid: 'Neplaćeno', search: 'Pretraga',
    preview_pdf: 'Pregled PDF', download_pdf: 'Preuzmi PDF', download_all: 'Preuzmi sve jezike',
    deposit: 'Depozit', amount_due: 'Za naplatu',
    show_in_pdf: 'Prikaži u PDF',
    confirm_delete_invoice: 'Obrisati fakturu?', confirm_delete_client: 'Obrisati klijenta?',
    select_client: 'Odaberite klijenta.', add_valid_item: 'Dodajte barem jednu važeću stavku (opis, količina > 0).',
    due_before_issue: 'Rok plaćanja ne može biti prije datuma izdavanja.',
    name_required: 'Naziv je obavezan.', invalid_email: 'Email nije ispravan.',
    company_name_required: 'Naziv kompanije je obavezan.', import_done: 'Uvoz završen.', invalid_json: 'Nevažeći JSON fajl.'
  },
  en: {
    home_title: 'Invoice maker',
    home_sub: 'Recent invoices and quick start.',
    nav_home: 'Home', nav_invoices: 'Invoices', nav_clients: 'Clients', nav_stats: 'Stats', nav_settings: 'Settings',
    new_invoice: 'New invoice',
    create_pdf: 'Create a new invoice and export PDF.',
    clients_title: 'Clients', add_client: 'Add client', save: 'Save', cancel: 'Cancel', edit: 'Edit', delete: 'Delete',
    invoices_title: 'Invoices', open: 'Open',
    stats_title: 'Statistics',
    settings_title: 'Settings',
    recent_invoices: 'Recent invoices', none_yet: 'Nothing here yet.',
    total: 'Total', date_issue: 'Issue date', date_due: 'Due date',
    language: 'Language', currency: 'Currency', default_language: 'Default language',
    numbering: 'Invoice numbering', prefix: 'Prefix', next_no: 'Next number', format: 'Format',
    upload_logo: 'Upload logo',
    mark_paid: 'Mark as paid', mark_unpaid: 'Mark as unpaid',
    filter_client: 'Client', filter_status: 'Status', status_all: 'All', status_paid: 'Paid', status_unpaid: 'Unpaid', search: 'Search',
    preview_pdf: 'Preview PDF', download_pdf: 'Download PDF', download_all: 'Download all languages',
    deposit: 'Deposit', amount_due: 'Amount due',
    show_in_pdf: 'Show in PDF',
    confirm_delete_invoice: 'Delete invoice?', confirm_delete_client: 'Delete client?',
    select_client: 'Select a client.', add_valid_item: 'Add at least one valid item (description, quantity > 0).',
    due_before_issue: 'Due date cannot be before issue date.',
    name_required: 'Name is required.', invalid_email: 'Email is invalid.',
    company_name_required: 'Company name is required.', import_done: 'Import completed.', invalid_json: 'Invalid JSON file.'
  },
  nl: {
    home_title: 'Invoice maker',
    home_sub: 'Recente facturen en snelle start.',
    nav_home: 'Home', nav_invoices: 'Facturen', nav_clients: 'Klanten', nav_stats: 'Statistiek', nav_settings: 'Instellingen',
    new_invoice: 'Nieuwe factuur',
    create_pdf: 'Maak nieuwe factuur en exporteer PDF.',
    clients_title: 'Klanten', add_client: 'Klant toevoegen', save: 'Opslaan', cancel: 'Annuleren', edit: 'Bewerken', delete: 'Verwijderen',
    invoices_title: 'Facturen', open: 'Openen',
    stats_title: 'Statistiek',
    settings_title: 'Instellingen',
    recent_invoices: 'Recente facturen', none_yet: 'Nog niets hier.',
    total: 'Totaal', date_issue: 'Factuurdatum', date_due: 'Vervaldatum',
    language: 'Taal', currency: 'Valuta', default_language: 'Standaard taal',
    numbering: 'Factuurnummering', prefix: 'Prefix', next_no: 'Volgend nummer', format: 'Formaat',
    upload_logo: 'Logo uploaden',
    mark_paid: 'Markeer als betaald', mark_unpaid: 'Markeer als onbetaald',
    filter_client: 'Klant', filter_status: 'Status', status_all: 'Alle', status_paid: 'Betaald', status_unpaid: 'Onbetaald', search: 'Zoeken',
    preview_pdf: 'PDF bekijken', download_pdf: 'PDF downloaden', download_all: 'Alle talen downloaden',
    deposit: 'Aanbetaling', amount_due: 'Te betalen',
    show_in_pdf: 'Tonen in PDF',
    confirm_delete_invoice: 'Factuur verwijderen?', confirm_delete_client: 'Klant verwijderen?',
    select_client: 'Selecteer een klant.', add_valid_item: 'Voeg minstens één geldige regel toe (omschrijving, aantal > 0).',
    due_before_issue: 'Vervaldatum kan niet vóór factuurdatum zijn.',
    name_required: 'Naam is verplicht.', invalid_email: 'E-mail is ongeldig.',
    company_name_required: 'Bedrijfsnaam is verplicht.', import_done: 'Import voltooid.', invalid_json: 'Ongeldig JSON-bestand.'
  },
  sk: {
    home_title: 'Invoice maker',
    home_sub: 'Posledné faktúry a rýchly štart.',
    nav_home: 'Domov', nav_invoices: 'Faktúry', nav_clients: 'Klienti', nav_stats: 'Štatistiky', nav_settings: 'Nastavenia',
    new_invoice: 'Nová faktúra',
    create_pdf: 'Vytvoriť novú faktúru a export PDF.',
    clients_title: 'Klienti', add_client: 'Pridať klienta', save: 'Uložiť', cancel: 'Zrušiť', edit: 'Upraviť', delete: 'Zmazať',
    invoices_title: 'Faktúry', open: 'Otvoriť',
    stats_title: 'Štatistiky',
    settings_title: 'Nastavenia',
    recent_invoices: 'Posledné faktúry', none_yet: 'Zatiaľ nič.',
    total: 'Spolu', date_issue: 'Dátum vystavenia', date_due: 'Splatnosť',
    language: 'Jazyk', currency: 'Mena', default_language: 'Predvolený jazyk',
    numbering: 'Číslovanie faktúr', prefix: 'Prefix', next_no: 'Ďalšie číslo', format: 'Formát',
    upload_logo: 'Nahrať logo',
    mark_paid: 'Označiť ako zaplatené', mark_unpaid: 'Označiť ako nezaplatené',
    filter_client: 'Klient', filter_status: 'Stav', status_all: 'Všetky', status_paid: 'Zaplatené', status_unpaid: 'Nezaplatené', search: 'Hľadať',
    preview_pdf: 'Náhľad PDF', download_pdf: 'Stiahnuť PDF', download_all: 'Stiahnuť všetky jazyky',
    deposit: 'Záloha', amount_due: 'Na úhradu',
    show_in_pdf: 'Zobraziť v PDF',
    confirm_delete_invoice: 'Zmazať faktúru?', confirm_delete_client: 'Zmazať klienta?',
    select_client: 'Vyberte klienta.', add_valid_item: 'Pridajte aspoň jednu platnú položku (popis, množstvo > 0).',
    due_before_issue: 'Splatnosť nemôže byť pred dátumom vystavenia.',
    name_required: 'Názov je povinný.', invalid_email: 'Email nie je platný.',
    company_name_required: 'Názov spoločnosti je povinný.', import_done: 'Import dokončený.', invalid_json: 'Neplatný JSON súbor.'
  },
};

export function useI18n() {
  const { uiLanguage, setUiLanguage, profile } = useStore();
  const lang: Language = (uiLanguage || profile?.defaultLanguage || 'bs') as Language;
  const dict = uiStrings[lang] || uiStrings.bs;
  const t = (k: string) => dict[k] || k;
  return { t, lang, setLang: setUiLanguage };
}
